--- org.apache.commons.math.linear.Array2DRowRealMatrix
+++ org.apache.commons.math.linear.Array2DRowRealMatrix
@@ -619,7 +619,8 @@
      * @throws NullPointerException if input array is null
      */
     private void copyIn(final double[][] in) {
-        setSubMatrix(in, 0, 0);
+        final int nRows = getRowDimension();
+		setSubMatrix(in, 0, 0);
     }
 
 }
